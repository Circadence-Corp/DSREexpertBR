{
  "$schema": "https://schema.management.azure.com/schemas/2019-08-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "builtinAdministratorAccount": {
      "type": "string",
      "defaultValue": "ContosoAdmin",
      "metadata": {
        "description": "Builtin\\Administrator account's name for the Virtual Machines. This is not a domain account."
      }
    },
    "builtinAdministratorPassword": {
      "type": "securestring",
      "defaultValue": "Password123!@#",
      "metadata": {
        "description": "Password for the Builtin Administrator account. Default is 'Password123!@#'"
      }
    },
    "UserPrincipalName": {
      "type": "string",
      "defaultValue": "seccxp.ninja",
      "metadata": {
        "description": "The UPN for users who will be provisioned in Active Directory.  Useful when later using AAD Connect"
      }
    },
    "DomainName": {
      "type": "string",
      "defaultValue": "Contoso.Azure",
      "metadata": {
        "description": "This is the FQDN of the Active Directory domain"
      }
    },
    "NetBiosName": {
      "type": "string",
      "defaultValue": "CONTOSO",
      "metadata": {
        "description:": "NetBIOS name for the Forest"
      }
    },
    "JeffLPassword": {
      "type": "securestring",
      "defaultValue": "Password$fun",
      "metadata": {
        "description": "Password for JeffL. Default is 'Password$fun'  JeffL is admin on VictimPC (but no other domain credentials)."
      }
    },
    "SamiraAPassword": {
      "type": "securestring",
      "defaultValue": "NinjaCat123!@#",
      "metadata": {
        "description": "SamiraA password. Default is 'NinjaCat123!@#'  SamiraA is Domain Admin."
      }
    },
    "RonHdPassword": {
      "type": "securestring",
      "defaultValue": "FightingTiger$",
      "metadata": {
        "description": "RonHD's password. Default is FightingTiger$. RonHD is member of Helpdesk."
      }
    },
    "LisaVPassword": {
      "type": "securestring",
      "defaultValue": "HighImpactUser1!",
      "metadata": {
        "description": "LisaV's password. By default it is 'HighImpactUser1!'  LisaV has access to High Impact data and will be used in future labs."
      }
    },
    "ElsieMPassword": {
      "type": "securestring",
      "defaultValue": "Els13M@#",
      "metadata": {
        "description": "ElsieM's password. By default it is 'Els13M@#'  ElsieM is admin on IntWkst01 (but no other domain credentials)."
      }
    },    
    "KerriMPassword": {
      "type": "securestring",
      "defaultValue": "K3RRiM@#245$$*^",
      "metadata": {
        "description": "KerriM's password. By default it is 'K3RRiM@#245$$*^'  KerriM is admin on IntWkst02 (but no other domain credentials)."
      }
    },    
    "MuhammedOPassword": {
      "type": "securestring",
      "defaultValue": "Mo3454hamm#$9",
      "metadata": {
        "description": "MuhammedO's password. By default it is 'Mo3454hamm#$9'  MuhammedO is admin on IntWkst03 (but no other domain credentials)."
      }
    },    
    "YasminWPassword": {
      "type": "securestring",
      "defaultValue": "Y44Min098&^%%",
      "metadata": {
        "description": "YasminW's password. By default it is 'Y44Min098&^%%'  YasminW is admin on IntWkst04 (but no other domain credentials)."
      }
    },    
    "StefanMPassword": {
      "type": "securestring",
      "defaultValue": "5T3fan(*&#^22",
      "metadata": {
        "description": "StefanM's password. By default it is '5T3fan(*&#^22'  StefanM is admin on IntWkst05 (but no other domain credentials)."
      }
    },    
    "PascalRPassword": {
      "type": "securestring",
      "defaultValue": "P45cali**&323",
      "metadata": {
        "description": "PascalR's password. By default it is 'P45cali**&323'  PascalR is admin on IntWkst06 (but no other domain credentials)."
      }
    },    
    "NolaMPassword": {
      "type": "securestring",
      "defaultValue": "N0la4NN847*&^@",
      "metadata": {
        "description": "NolaM's password. By default it is 'N0la4NN847*&^@'  NolaM is admin on IntWkst07 (but no other domain credentials)."
      }
    },    
    "RaifeDPassword": {
      "type": "securestring",
      "defaultValue": "R4IDdF3884&&^^)",
      "metadata": {
        "description": "RaifeD's password. By default it is 'R4IDdF3884&&^^)'  RaifeD is admin on IntWkst08 (but no other domain credentials)."
      }
    },    
    "LillianaDPassword": {
      "type": "securestring",
      "defaultValue": "7177IAN$(@#&++12art",
      "metadata": {
        "description": "LillianaD's password. By default it is '7177IAN$(@#&++12art'  LillianaD is admin on IntWkst09 (but no other domain credentials)."
      }
    },    
    "KarinaMPassword": {
      "type": "securestring",
      "defaultValue": "K4r1N99*#",
      "metadata": {
        "description": "KarinaM's password. By default it is 'K4r1N99*#'  KarinaM is admin on IntWkst10 (but no other domain credentials)."
      }
    },    
    "MorganPPassword": {
      "type": "securestring",
      "defaultValue": "M0rg@N928!!@=",
      "metadata": {
        "description": "MorganP's password. By default it is 'M0rg@N928!!@='  MorganP is admin on IntWkst11 (but no other domain credentials)."
      }
    },    
    "MaureenGPassword": {
      "type": "securestring",
      "defaultValue": "3M4ureenG$#@",
      "metadata": {
        "description": "MaureenG's password. By default it is '3M4ureenG$#@'  MaureenG is admin on IntWkst12 (but no other domain credentials)."
      }
    },    
    "ShannaMPassword": {
      "type": "securestring",
      "defaultValue": "5$haNNhann32!!",
      "metadata": {
        "description": "ShannaM's password. By default it is '5$haNNhann32!!'  ShannaM is admin on IntWkst13 (but no other domain credentials)."
      }
    },    
    "MacaulyWPassword": {
      "type": "securestring",
      "defaultValue": "M@CC4ronni*#&",
      "metadata": {
        "description": "MacaulyW's password. By default it is 'M@CC4ronni*#&'  MacaulyW is admin on IntWkst14 (but no other domain credentials)."
      }
    },    
    "AngelTPassword": {
      "type": "securestring",
      "defaultValue": "4NGell900@#$%",
      "metadata": {
        "description": "AngelT's password. By default it is '4NGell900@#$%'  AngelT is admin on IntWkst15 (but no other domain credentials)."
      }
    },    
    "TonyaMPassword": {
      "type": "securestring",
      "defaultValue": "70NYAeah&$%^",
      "metadata": {
        "description": "TonyaM's password. By default it is '70NYAeah&$%^'  TonyaM is admin on IntWkst16 (but no other domain credentials)."
      }
    },    
    "ZaineOPassword": {
      "type": "securestring",
      "defaultValue": "In5an3*&Minbrain!",
      "metadata": {
        "description": "ZaineO's password. By default it is 'In5an3*&Minbrain!'  ZaineO is admin on IntWkst17 (but no other domain credentials)."
      }
    },    
    "JaxonRPassword": {
      "type": "securestring",
      "defaultValue": "Way2J4X%)N",
      "metadata": {
        "description": "JaxonR's password. By default it is 'Way2J4X%)N'  JaxonR is admin on IntWkst18 (but no other domain credentials)."
      }
    },    
    "OwainTPassword": {
      "type": "securestring",
      "defaultValue": "0Wn$!N556!",
      "metadata": {
        "description": "OwainT's password. By default it is '0Wn$!N556!'  OwainT is admin on IntWkst19 (but no other domain credentials)."
      }
    },    
    "KrishGPassword": {
      "type": "securestring",
      "defaultValue": "KrIS4$$as@@",
      "metadata": {
        "description": "KrishG's password. By default it is 'KrIS4$$as@@'  KrishG is admin on IntWkst20 (but no other domain credentials)."
      }
    },                                                                                     
    "AATPServicePassword": {
      "type": "securestring",
      "defaultValue": "Password123!@#",
      "metadata": {
        "description": "Password for the AATP Service ('AATPService').  This is an unprivileged user-account used for LDAP and SAMR purposes."
      }
    }
  },
  "variables": {
    "PrivateIpAddressesArray": {
      "type": "array",
      "Ip": [
        "10.0.24.4",
        "10.0.24.10",
        "10.0.24.11",
        "10.0.24.12",
        "10.0.24.13",
        "10.0.24.14",        
        "10.0.24.15",
        "10.0.24.16",
        "10.0.24.17",
        "10.0.24.18",
        "10.0.24.19",
        "10.0.24.20",
        "10.0.24.21",
        "10.0.24.22",
        "10.0.24.23",
        "10.0.24.24",
        "10.0.24.25",
        "10.0.24.26",
        "10.0.24.27",
        "10.0.24.28",
        "10.0.24.29",
        "10.0.24.30",
        "10.0.24.31",
        "10.0.24.32",
        "10.0.24.33",
        "10.0.24.50"
      ]
    },
    "NumberVmsNicStorage": 26,
    "DeploymentVnetDnsName": "vNetDnsSettingsDeployment",
    "GithubBranch": "master",
    "vNetAddressPrefix": "10.0.24.0/24",
    "vNetName": "DefendTheFlag-vNet",
    "vNetSubnetName": "Subnet",
    "vSubnetRefId": "[resourceId('Microsoft.Network/virtualNetworks/subnets', variables('vNetName'), variables('vNetSubnetName'))]",
    "GenericNicName": "Nic",
    "GenericPublicIpAddressName": "PublicIp",
    "GenericStorageAccountName": "[concat(uniqueString(resourceGroup().id), 'sa')]",
    "DcVmName": "ContosoDc",
    "DcPromoteDcDscName": "DcPromoDsc",
    "DcDscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionDcDsc.zip?raw=true')]",
    "AdminPcVmName": "AdminPc",
    "AdminPcDscName": "AdminPcDsc",
    "AdminPcDscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionAdminPcDsc.zip?raw=true')]",
    "AdminPc2VmName": "AdminPc2",
    "AdminPc2DscName": "AdminPc2Dsc",
    "AdminPc2DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionAdminPc2Dsc.zip?raw=true')]",
    "McasVmName": "Client01",
    "McasDscName": "SetupMcasClient",
    "McasDscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionClient01.zip?raw=true')]",
    "IntWkst01VmName": "IntWkst01",
    "IntWkst01DscName": "IntWkst01Dsc",
    "IntWkst01DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst01Dsc.zip?raw=true')]",
    "IntWkst02VmName": "IntWkst02",
    "IntWkst02DscName": "IntWkst02Dsc",
    "IntWkst02DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst02Dsc.zip?raw=true')]",
    "IntWkst03VmName": "IntWkst03",
    "IntWkst03DscName": "IntWkst03Dsc",
    "IntWkst03DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst03Dsc.zip?raw=true')]",
    "IntWkst04VmName": "IntWkst04",
    "IntWkst04DscName": "IntWkst04Dsc",
    "IntWkst04DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst04Dsc.zip?raw=true')]",
    "IntWkst05VmName": "IntWkst05",
    "IntWkst05DscName": "IntWkst05Dsc",
    "IntWkst05DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst05Dsc.zip?raw=true')]",
    "IntWkst06VmName": "IntWkst06",
    "IntWkst06DscName": "IntWkst06Dsc",
    "IntWkst06DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst06Dsc.zip?raw=true')]",
    "IntWkst07VmName": "IntWkst07",
    "IntWkst07DscName": "IntWkst07Dsc",
    "IntWkst07DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst07Dsc.zip?raw=true')]",
    "IntWkst08VmName": "IntWkst08",
    "IntWkst08DscName": "IntWkst08Dsc",
    "IntWkst08DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst08Dsc.zip?raw=true')]",
    "IntWkst09VmName": "IntWkst09",
    "IntWkst09DscName": "IntWkst09Dsc",
    "IntWkst09DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst09Dsc.zip?raw=true')]",
    "IntWkst10VmName": "IntWkst10",
    "IntWkst10DscName": "IntWkst10Dsc",
    "IntWkst10DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst10Dsc.zip?raw=true')]",
    "IntWkst11VmName": "IntWkst11",
    "IntWkst11DscName": "IntWkst11Dsc",
    "IntWkst11DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst11Dsc.zip?raw=true')]",
    "IntWkst12VmName": "IntWkst12",
    "IntWkst12DscName": "IntWkst12Dsc",
    "IntWkst12DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst12Dsc.zip?raw=true')]",
    "IntWkst13VmName": "IntWkst13",
    "IntWkst13DscName": "IntWkst13Dsc",
    "IntWkst13DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst13Dsc.zip?raw=true')]",
    "IntWkst14VmName": "IntWkst14",
    "IntWkst14DscName": "IntWkst14Dsc",
    "IntWkst14DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst14Dsc.zip?raw=true')]",
    "IntWkst15VmName": "IntWkst15",
    "IntWkst15DscName": "IntWkst15Dsc",
    "IntWkst15DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst15Dsc.zip?raw=true')]",
    "IntWkst16VmName": "IntWkst16",
    "IntWkst16DscName": "IntWkst16Dsc",
    "IntWkst16DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst16Dsc.zip?raw=true')]",
    "IntWkst17VmName": "IntWkst17",
    "IntWkst17DscName": "IntWkst17Dsc",
    "IntWkst17DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst17Dsc.zip?raw=true')]",
    "IntWkst18VmName": "IntWkst18",
    "IntWkst18DscName": "IntWkst18Dsc",
    "IntWkst18DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst18Dsc.zip?raw=true')]",
    "IntWkst19VmName": "IntWkst19",
    "IntWkst19DscName": "IntWkst19Dsc",
    "IntWkst19DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst19Dsc.zip?raw=true')]",
    "IntWkst20VmName": "IntWkst20",
    "IntWkst20DscName": "IntWkst20Dsc",
    "IntWkst20DscUrl": "[concat('https://github.com/Circadence-Corp/DSREexpertBR/blob/', variables('GithubBranch'), '/DSC/ProvisionIntWkst20Dsc.zip?raw=true')]",    
    "AipDomainServiceAccount": "AipScanner",
    "AipDomainServiceAccountPassword": "Somepass1",

  },
  "resources": [
    {
      "apiVersion": "2018-12-01",
      "type": "Microsoft.Network/virtualNetworks",
      "name": "[variables('vNetName')]",
      "location": "[resourceGroup().location]",
      "properties": {
        "addressSpace": {
          "addressPrefixes": [
            "[variables('vNetAddressPrefix')]"
          ]
        },
        "subnets": [
          {
            "name": "[variables('vNetSubnetName')]",
            "properties": {
              "addressPrefix": "[variables('vNetAddressPrefix')]"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2018-12-01",
      "type": "Microsoft.Network/publicIPAddresses",
      "name": "[concat(variables('GenericPublicIpAddressName'), copyIndex())]",
      "location": "[resourceGroup().location]",
      "copy": {
        "count": "[variables('NumberVmsNicStorage')]",
        "name": "GenericPublicIpAddressLoop"
      },
      "sku": {
        "name": "Basic"
      },
      "properties": {
        "publicIPAllocationMethod": "Dynamic"
      }
    },
    {
      "type": "Microsoft.Storage/storageAccounts",
      "apiVersion": "2018-02-01",
      "name": "[concat(variables('GenericStorageAccountName'), copyIndex())]",
      "location": "[resourceGroup().location]",
      "copy": {
        "count": "[variables('NumberVmsNicStorage')]",
        "name": "GenericStorageAccountLoop"
      },
      "sku": {
        "name": "Standard_LRS"
      },
      "kind": "StorageV2",
      "properties": {
      }
    },
    {
      "apiVersion": "2017-09-01",
      "type": "Microsoft.Network/networkInterfaces",
      "name": "[concat(variables('GenericNicName'), copyIndex())]",
      "location": "[resourceGroup().location]",
      "copy": {
        "name": "NicLoop",
        "count": "[variables('NumberVmsNicStorage')]"
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/publicIPAddresses', concat(variables('GenericPublicIpAddressName'), copyIndex()))]",
        "[resourceId('Microsoft.Network/virtualNetworks', variables('vNetName'))]"
      ],
      "properties": {
        "ipConfigurations": [
          {
            "name": "ipconfig1",
            "properties": {
              "privateIPAllocationMethod": "Static",
              "privateIPAddress": "[variables('PrivateIpAddressesArray').Ip[copyIndex('NicLoop')]]",
              "publicIPAddress": {
                "id": "[resourceId('Microsoft.Network/publicIPAddresses', concat(variables('GenericPublicIpAddressName'), copyIndex()))]"
              },
              "subnet": {
                "id": "[variables('vSubnetRefId')]"
              }
            }
          }
        ]
      }
    },
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('DcVmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 0))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),0))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('DcVmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "MicrosoftWindowsServer",
            "offer": "WindowsServer",
            "sku": "2016-Datacenter-smalldisk",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 0)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Server",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 0))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "apiVersion": "2018-10-01",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('DcVmName'))]"
          ],
          "location": "[resourceGroup().location]",
          "name": "[variables('DcPromoteDcDscName')]",
          "properties": {
            "autoUpgradeMinorVersion": true,
            "protectedSettings": {
              "configurationArguments": {
                "AdminCreds": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "JeffLCreds": {
                  "UserName": "JeffL",
                  "Password": "[parameters('JeffLPassword')]"
                },
                "SamiraACreds": {
                  "UserName": "SamiraA",
                  "Password": "[parameters('SamiraAPassword')]"
                },
                "RonHdCreds": {
                  "UserName": "RonHD",
                  "Password": "[parameters('RonHdPassword')]"
                },
                "LisaVCreds": {
                  "UserName": "LisaV",
                  "Password": "[parameters('LisaVPassword')]"
                },
                "ElsieMCreds": {
                  "UserName": "ElsieM",
                  "Password": "[parameters('ElsieMPassword')]"
                },                
                "KerriMCreds": {
                  "UserName": "KerriM",
                  "Password": "[parameters('KerriMPassword')]"
                },                
                "MuhammedOCreds": {
                  "UserName": "MuhammedO",
                  "Password": "[parameters('MuhammedOPassword')]"
                },                
                "YasminWCreds": {
                  "UserName": "YasminW",
                  "Password": "[parameters('YasminWPassword')]"
                },                
                "StefanMCreds": {
                  "UserName": "StefanM",
                  "Password": "[parameters('StefanMPassword')]"
                },                
                "PascalRCreds": {
                  "UserName": "PascalR",
                  "Password": "[parameters('PascalRPassword')]"
                },                
                "NolaMCreds": {
                  "UserName": "NolaM",
                  "Password": "[parameters('NolaMPassword')]"
                },                
                "RaifeDCreds": {
                  "UserName": "RaifeD",
                  "Password": "[parameters('RaifeDPassword')]"
                },                
                "LillianaDCreds": {
                  "UserName": "LillianaD",
                  "Password": "[parameters('LillianaDPassword')]"
                },                
                "KarinaMCreds": {
                  "UserName": "KarinaM",
                  "Password": "[parameters('KarinaMPassword')]"
                },                
                "MorganPCreds": {
                  "UserName": "MorganP",
                  "Password": "[parameters('MorganPPassword')]"
                },                
                "MaureenGCreds": {
                  "UserName": "MaureenG",
                  "Password": "[parameters('MaureenGPassword')]"
                },                
                "ShannaMCreds": {
                  "UserName": "ShannaM",
                  "Password": "[parameters('ShannaMPassword')]"
                },                
                "MacaulyWCreds": {
                  "UserName": "MacaulyW",
                  "Password": "[parameters('MacaulyWPassword')]"
                },                
                "AngelTCreds": {
                  "UserName": "AngelT",
                  "Password": "[parameters('AngelTPassword')]"
                },                
                "TonyaMCreds": {
                  "UserName": "TonyaM",
                  "Password": "[parameters('TonyaMPassword')]"
                },                
                "ZaineOCreds": {
                  "UserName": "ZaineO",
                  "Password": "[parameters('ZaineOPassword')]"
                },                
                "JaxonRCreds": {
                  "UserName": "JaxonR",
                  "Password": "[parameters('JaxonRPassword')]"
                },                
                "OwainTCreds": {
                  "UserName": "OwainT",
                  "Password": "[parameters('OwainTPassword')]"
                },                
                "KrishGCreds": {
                  "UserName": "KrishG",
                  "Password": "[parameters('KrishGPassword')]"
                },                
                "AipServiceCreds": {
                  "UserName": "[variables('AipDomainServiceAccount')]",
                  "Password": "[variables('AipDomainServiceAccountPassword')]"
                },
                "AatpServiceCreds": {
                  "UserName": "AATPService",
                  "Password": "[parameters('AATPServicePassword')]"
                }
              }
            },
            "publisher": "Microsoft.Powershell",
            "settings": {
              "configuration": {
                "url": "[variables('DcDscUrl')]",
                "script": "ProvisionDcDsc.ps1",
                "function": "CreateADForest"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "UserPrincipalName": "[parameters('UserPrincipalName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "type": "DSC",
            "typeHandlerVersion": "2.77"
          },
          "type": "extensions"
        }
      ]
    },
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2017-05-10",
      "name": "[variables('DeploymentVnetDnsName')]",
      "dependsOn": [
        "[resourceId('Microsoft.Compute/virtualMachines/extensions', variables('DcVmName'), variables('DcPromoteDcDscName'))]"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "https://raw.githubusercontent.com/Circadence-Corp/DSREexpertBR/master/Nested/VNetConfiguration.json",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "virtualNetworkName": {
            "value": "[variables('vNetName')]"
          },
          "dnsServers": {
            "value": "[array(variables('PrivateIpAddressesArray').Ip[0])]"
          },
          "addressPrefix": {
            "value": "[variables('vNetAddressPrefix')]"
          },
          "subnets": {
            "value": [
              {
                "name": "[variables('vNetSubnetName')]",
                "properties": {
                  "addressPrefix": "[variables('vNetAddressPrefix')]"
                }
              }
            ]
          }
        }
      }
    },
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst01VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 6))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),6))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst01VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 6)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 6))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst01DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst01VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst01DscUrl')]",
                "script": "ProvisionIntWkst01Dsc.ps1",
                "function": "SetupIntWkst01"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[5]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "ElsieMCred": {
                  "UserName": "ElsieM",
                  "Password": "[parameters('ElsieMPassword')]"
                }
              }
            }
          }
        }
      ]
    },    
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst02VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 7))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),7))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst02VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 7)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 7))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst02DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst02VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst02DscUrl')]",
                "script": "ProvisionIntWkst02Dsc.ps1",
                "function": "SetupIntWkst02"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[6]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "KerriMCred": {
                  "UserName": "KerriM",
                  "Password": "[parameters('KerriMPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst03VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 8))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),8))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst03VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 8)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 8))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst03DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst03VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst03DscUrl')]",
                "script": "ProvisionIntWkst03Dsc.ps1",
                "function": "SetupIntWkst03"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[7]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "MuhammedOCred": {
                  "UserName": "MuhammedO",
                  "Password": "[parameters('MuhammedOPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst04VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 9))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),9))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst04VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 9)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 9))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst04DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst04VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst04DscUrl')]",
                "script": "ProvisionIntWkst04Dsc.ps1",
                "function": "SetupIntWkst04"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[8]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "YasminWCred": {
                  "UserName": "YasminW",
                  "Password": "[parameters('YasminWPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst05VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 10))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),10))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst05VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 10)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 10))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst05DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst05VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst05DscUrl')]",
                "script": "ProvisionIntWkst05Dsc.ps1",
                "function": "SetupIntWkst05"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[9]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "StefanMCred": {
                  "UserName": "StefanM",
                  "Password": "[parameters('StefanMPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst06VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 11))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),11))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst06VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 11)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 11))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst06DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst06VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst06DscUrl')]",
                "script": "ProvisionIntWkst06Dsc.ps1",
                "function": "SetupIntWkst06"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[10]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "PascalRCred": {
                  "UserName": "PascalR",
                  "Password": "[parameters('PascalRPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst07VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 12))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),12))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst07VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 12)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 12))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst07DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst07VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst07DscUrl')]",
                "script": "ProvisionIntWkst07Dsc.ps1",
                "function": "SetupIntWkst07"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[11]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "NolaMCred": {
                  "UserName": "NolaM",
                  "Password": "[parameters('NolaMPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst08VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 13))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),13))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst08VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 13)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 13))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst08DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst08VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst08DscUrl')]",
                "script": "ProvisionIntWkst08Dsc.ps1",
                "function": "SetupIntWkst08"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[12]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "RaifeDCred": {
                  "UserName": "RaifeD",
                  "Password": "[parameters('RaifeDPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst09VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 14))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),14))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst09VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 14)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 14))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst09DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst09VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst09DscUrl')]",
                "script": "ProvisionIntWkst09Dsc.ps1",
                "function": "SetupIntWkst09"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[13]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "LillianaDCred": {
                  "UserName": "LillianaD",
                  "Password": "[parameters('LillianaDPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst10VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 15))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),15))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst10VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 15)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 15))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst10DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst10VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst10DscUrl')]",
                "script": "ProvisionIntWkst10Dsc.ps1",
                "function": "SetupIntWkst10"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[14]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "KarinaMCred": {
                  "UserName": "KarinaM",
                  "Password": "[parameters('KarinaMPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst11VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 16))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),16))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst11VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 16)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 16))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst11DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst11VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst11DscUrl')]",
                "script": "ProvisionIntWkst11Dsc.ps1",
                "function": "SetupIntWkst11"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[15]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "MorganPCred": {
                  "UserName": "MorganP",
                  "Password": "[parameters('MorganPPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst12VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 17))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),17))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst12VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 17)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 17))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst12DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst12VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst12DscUrl')]",
                "script": "ProvisionIntWkst12Dsc.ps1",
                "function": "SetupIntWkst12"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[16]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "MaureenGCred": {
                  "UserName": "MaureenG",
                  "Password": "[parameters('MaureenGPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst13VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 18))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),18))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst13VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 18)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 18))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst13DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst13VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst13DscUrl')]",
                "script": "ProvisionIntWkst13Dsc.ps1",
                "function": "SetupIntWkst13"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[17]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "ShannaMCred": {
                  "UserName": "ShannaM",
                  "Password": "[parameters('ShannaMPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst14VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 19))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),19))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst14VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 19)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 19))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst14DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst14VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst14DscUrl')]",
                "script": "ProvisionIntWkst14Dsc.ps1",
                "function": "SetupIntWkst14"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[18]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "MacaulyWCred": {
                  "UserName": "MacaulyW",
                  "Password": "[parameters('MacaulyWPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst15VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 20))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),20))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst15VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 20)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 20))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst15DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst15VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst15DscUrl')]",
                "script": "ProvisionIntWkst15Dsc.ps1",
                "function": "SetupIntWkst15"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[19]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "AngelTCred": {
                  "UserName": "AngelT",
                  "Password": "[parameters('AngelTPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst16VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 21))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),21))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst16VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 21)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 21))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst16DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst16VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst16DscUrl')]",
                "script": "ProvisionIntWkst16Dsc.ps1",
                "function": "SetupIntWkst16"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[20]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "TonyaMCred": {
                  "UserName": "TonyaM",
                  "Password": "[parameters('TonyaMPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst17VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 22))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),22))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst17VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 22)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 22))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst17DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst17VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst17DscUrl')]",
                "script": "ProvisionIntWkst17Dsc.ps1",
                "function": "SetupIntWkst17"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[21]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "ZaineOCred": {
                  "UserName": "ZaineO",
                  "Password": "[parameters('ZaineOPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst18VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 23))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),23))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst18VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 23)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 23))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst18DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst18VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst18DscUrl')]",
                "script": "ProvisionIntWkst18Dsc.ps1",
                "function": "SetupIntWkst18"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[22]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "JaxonRCred": {
                  "UserName": "JaxonR",
                  "Password": "[parameters('JaxonRPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst19VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 24))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),24))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst19VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 24)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 24))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst19DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst19VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst19DscUrl')]",
                "script": "ProvisionIntWkst19Dsc.ps1",
                "function": "SetupIntWkst19"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[23]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "OwainTCred": {
                  "UserName": "OwainT",
                  "Password": "[parameters('OwainTPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('IntWkst20VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 25))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),25))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('IntWkst20VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 25)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 25))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('IntWkst20DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('IntWkst20VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('IntWkst20DscUrl')]",
                "script": "ProvisionIntWkst20Dsc.ps1",
                "function": "SetupIntWkst20"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[24]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "KrishGCred": {
                  "UserName": "KrishG",
                  "Password": "[parameters('KrishGPassword')]"
                }
              }
            }
          }
        }
      ]
    },  
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('AdminPcVmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 2))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),2))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('AdminPcVmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 2)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 2))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('AdminPcDscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('AdminPcVmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('AdminPcDscUrl')]",
                "script": "ProvisionAdminPcDsc.ps1",
                "function": "SetupAdminPc"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[0]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "SamiraACred": {
                  "UserName": "SamiraA",
                  "Password": "[parameters('SamiraAPassword')]"
                },
                "AipServiceCred": {
                  "UserName": "[variables('AipDomainServiceAccount')]",
                  "Password": "[variables('AipDomainServiceAccountPassword')]"
                }
              }
            }
          }
        }
      ]
    },
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('AdminPc2VmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'),4))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),4))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('AdminPc2VmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 4)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 4))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('AdminPc2DscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('AdminPc2VmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('AdminPc2DscUrl')]",
                "script": "ProvisionAdminPc2Dsc.ps1",
                "function": "SetupAdminPc2"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[0]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "protectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "SamiraACred": {
                  "UserName": "SamiraA",
                  "Password": "[parameters('SamiraAPassword')]"
                },
                "AipServiceCred": {
                  "UserName": "[variables('AipDomainServiceAccount')]",
                  "Password": "[variables('AipDomainServiceAccountPassword')]"
                }
              }
            }
          }
        }
      ]
    },
    {
      "type": "Microsoft.Compute/virtualMachines",
      "apiVersion": "2018-10-01",
      "name": "[variables('McasVmName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 3))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),3))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[variables('McasVmName')]",
          "adminUsername": "[parameters('builtinAdministratorAccount')]",
          "adminPassword": "[parameters('builtinAdministratorPassword')]"
        },
        "storageProfile": {
          "imageReference": {
            "publisher": "microsoftwindowsdesktop",
            "offer": "office-365",
            "sku": "1903-evd-o365pp",
            "version": "latest"
          },
          "osDisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 3)]",
            "caching": "ReadWrite",
            "createOption": "FromImage"
          }
        },
        "licenseType": "Windows_Client",
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 3))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": false
          }
        }
      },
      "resources": [
        {
          "type": "extensions",
          "apiVersion": "2018-10-01",
          "name": "[variables('McasDscName')]",
          "location": "[resourceGroup().location]",
          "dependsOn": [
            "[resourceId('Microsoft.Compute/virtualMachines', variables('McasVmName'))]",
            "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
          ],
          "properties": {
            "publisher": "Microsoft.Powershell",
            "type": "DSC",
            "autoUpgradeMinorVersion": true,
            "typeHandlerVersion": "2.77",
            "settings": {
              "configuration": {
                "url": "[variables('McasDscUrl')]",
                "script": "ProvisionClient01.ps1",
                "function": "SetupAipScannerCore"
              },
              "configurationArguments": {
                "DomainName": "[parameters('DomainName')]",
                "NetBiosName": "[parameters('NetBiosName')]",
                "DnsServer": "[variables('PrivateIpAddressesArray').Ip[0]]",
                "Branch": "[variables('GithubBranch')]"
              }
            },
            "ProtectedSettings": {
              "configurationArguments": {
                "AdminCred": {
                  "UserName": "[parameters('builtinAdministratorAccount')]",
                  "Password": "[parameters('builtinAdministratorPassword')]"
                },
                "LisaVCred": {
                  "UserName": "LisaV",
                  "Password": "[parameters('LisaVPassword')]"
                }
              }
            }
          }
        }
      ]
    },
    {
      "apiVersion": "2018-10-01",
      "type": "Microsoft.Compute/virtualMachines",
      "name": "[variables('AscLinuxName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 5))]",
        "[resourceId('Microsoft.Storage/storageAccounts', concat(variables('GenericStorageAccountName'),5))]",
        "[resourceId('Microsoft.Resources/deployments', variables('DeploymentVnetDnsName'))]"
      ],
      "properties": {
        "hardwareprofile": {
          "vmsize": "Standard_A2_v2"
        },
        "osProfile": {
          "computerName": "[concat(variables('AscLinuxName'))]",
          "adminusername": "[parameters('builtinAdministratorAccount')]",
          "adminpassword": "[parameters('builtinAdministratorPassword')]"
        },
          "osdisk": {
            "name": "[concat(variables('GenericStorageAccountName'), 5)]",
            "createOption": "FromImage",
            "managedDisk": {
              "storageAccountType": "Standard_LRS"
            },
            "caching": "ReadWrite"
          }
        },
        "networkprofile": {
          "networkinterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', concat(variables('GenericNicName'), 5))]"
            }
          ]
        }
      }
    }
  ]
}
